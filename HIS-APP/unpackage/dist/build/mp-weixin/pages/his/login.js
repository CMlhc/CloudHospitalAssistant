(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/his/login"],{"2b49":function(n,e,t){"use strict";t.r(e);var a=t("f589"),o=t("3c2f");for(var r in o)"default"!==r&&function(n){t.d(e,n,function(){return o[n]})}(r);t("350c");var u=t("2877"),i=Object(u["a"])(o["default"],a["a"],a["b"],!1,null,null,null);e["default"]=i.exports},"350c":function(n,e,t){"use strict";var a=t("61af"),o=t.n(a);o.a},"3b3f":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(t("cde2")),o=r(t("a925"));function r(n){return n&&n.__esModule?n:{default:n}}var u={data:function(){return{SessionKey:"",OpenId:"",name:null,avatarUrl:null,isCanUse:n.getStorageSync("isCanUse")||!0}},methods:{wxGetUserInfo:function(){var e=this;n.getUserInfo({provider:"weixin",success:function(t){t.userInfo.name,t.userInfo.avatarUrl;try{n.setStorageSync("isCanUse",!1),e.updateUserInfo()}catch(a){}e.login()},fail:function(n){}})},login:function(){var e=this;n.showLoading({title:"登录中..."}),n.login({provider:"weixin",success:function(t){var r=t.code;e.isCanUse||n.getUserInfo({provider:"weixin",success:function(n){var t=n.userInfo.name,a=n.userInfo.avatarUrl;e.name=t,e.avatarUrl=a,e.updateUserInfo(r)}}),n.request({url:o.default.baseUrl+"/wechat/login",data:{code:r,name:e.name,avatarUrl:e.avatarUrl},method:"POST",header:{"content-type":"application/json"},success:function(e){n.hideLoading(),n.setStorageSync("token",e.data.data.token),a.default.state.hasLogin=!0,console.log(n.getStorageSync("token")),n.switchTab({url:"index"})}})}})}}};e.default=u}).call(this,t("543d")["default"])},"3c2f":function(n,e,t){"use strict";t.r(e);var a=t("3b3f"),o=t.n(a);for(var r in a)"default"!==r&&function(n){t.d(e,n,function(){return a[n]})}(r);e["default"]=o.a},"61af":function(n,e,t){},f589:function(n,e,t){"use strict";var a=function(){var n=this,e=n.$createElement;n._self._c},o=[];t.d(e,"a",function(){return a}),t.d(e,"b",function(){return o})}},[["c010","common/runtime","common/vendor"]]]);